<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title></title>
</head>

<body>
	<div>
		<button class="btn">按钮</button>
	</div>

	<script src="public/jquery-1.8.2.js"></script>
	<script src="js/webgl.js"></script>
	<script>
		$(function () {
			if (window.vuplex) {
				sendMessageToCSharp(2);
				addMessageListener();
			} else {
				window.addEventListener('vuplexready', sendMessageToCSharp);
				window.addEventListener('vuplexready', addMessageListener);
			}
			function sendMessageToCSharp(type) {
				console.log(type)
				var obj =
				{
					"hjEventName": "AnswerComplete",
					"data": {
						"111": "1234",
						"222": "啊受打击了aa阿萨德荆防颗粒",
						"333": [
							{
								"a": "1",
								"b": "2",
								"c": "asdf阿德实际付款"
							}
						],
						"444": {
							"1": "1",
							"2": "aa",
							"3": "阿打发aaa"
						}
					}

				}
				if (type == 1) {

				} else {
					obj = { hjEventName: 'H5ProjectReady' }
				}
				window.vuplex.postMessage(obj);
			}
			function addMessageListener() {
				window.vuplex.addEventListener('message', function (event) {
					let json = event.data;
					// > JSON received: { "type": "greeting", "message": "Hello from C#!" }
					console.log('JSON received: ' + json);
				});
			}
			$('.btn').click(function () {
				sendMessageToCSharp(1)
			})
		})

	</script>
</body>

</html>